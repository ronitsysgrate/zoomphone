<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>

<body>
    <button class="ZoomButtonId">Click to Call</button>
    <iframe src="https://applications.zoom.us/integration/phone/embeddablephone/home" id="zoom-embeddable-phone-iframe"
        allow="clipboard-read; clipboard-write https://applications.zoom.us"></iframe>
</body>
<script type="text/javascript">
    $(document).ready(function () {
        onZoomPhoneIframeApiReady();
        $("#btnDisplayData").click(function (e) {

            var Date = $("[id*=txtFromDate]").val();
            var Disposition = $("[id*=drbDisposition]").val();
            var PatientStatus = $("[id*=drbPatientStatus]").val();
            ReminderCallfromCode(Date, Disposition, PatientStatus);
        });

        function onZoomPhoneIframeApiReady(a) {

            console.log('onZoomPhoneIframeApiReady')
            document.querySelector('iframe#zoom-embeddable-phone-iframe').contentWindow.postMessage({

                type: 'zp-init-config',
                data: {

                    enableSavingLog: false,
                    enableAutoLog: false,
                    enableContactSearching: false,
                    enableContactMatching: false,
                    enableAISummary: true,
                    // notePageConfiguration:
                }
            }, 'https://applications.zoom.us');
        };


        $(".ZoomButtonId").click(function () {

            onZoomPhoneIframeApiReady();
            document.querySelector('iframe#zoom-embeddable-phone-iframe').contentWindow.postMessage({

                type: 'zp-make-call',
                data: {

                    number: 1851,
                    //callerId: 916828521038\
                    autoDial: true
                }
            }, 'https://applications.zoom.us');
        })


        window.addEventListener('message', (e) => {

            const data = e.data;
            if (data) {

                console.log(data);
                switch (data.type) {

                    case 'zp-call-ringing-event': // listen to all the event types that you need\
                        console.log(data.data);
                        break;
                }
            }
        });

    })
</script>

</html>